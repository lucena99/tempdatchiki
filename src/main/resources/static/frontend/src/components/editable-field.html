<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/vaadin-text-field/src/vaadin-text-field.html">
<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../bower_components/vaadin-icons/vaadin-icons.html">

<link rel="import" href="../../styles/shared-styles.html">

<dom-module id="editable-field">
  <template>
    <style include="shared-styles">
      :host {
        display: block;
      }
    </style>

    <div style="display: flex; align-items: baseline">
      <h3 hidden="[[_h3Disabled()]]">[[value]]</h3>
      <span hidden="[[_spanDisabled()]]" style="width: 120px;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;">[[value]]</span>
      <vaadin-button id="edit" theme="tertiary">
        <iron-icon icon="lumo:edit" slot="prefix"></iron-icon>
        Изменить
      </vaadin-button>
    </div>
  </template>

  <script>
    {
      /**
       * A pure Polymer Web Component for numeric fields.
       */
      class EditableField extends Polymer.Element {
        static get is() {
          return 'editable-field';
        }

        static get properties() {
          return {
            value: {
              type: String,
              value: 0,
              notify: true
            },
            control: {
              type: String
            }
          };
        }
        _h3Disabled() {
          return this.control != 'h3';
        }
        _spanDisabled() {
          return this.control != 'span';
        }
      }

      window.customElements.define(EditableField.is, EditableField);
    }
  </script>
</dom-module>
